{% extends 'base.html.twig' %}

{% block content %}
<div class="container">
{% for message in app.flashes('success') %}
            <div class="alert alert-success">
                {{ message }}
            </div>
{% endfor %}

<h2>Liste des inscriptions à valider</h2>
<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Id</th>
      <th scope="col">Nom de la société</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
   {% for company in companies %}
    <tr>
        <td>{{ company.id }}</td>
        <td>{{ company.name }}</td>
    <td>
        <a href="{{ path('admin_validation_inscription_company_show', {'id' : company.id}) }}" class="btn btn-secondary">Détails</a><br>
        {# <a href="{{ path('admin_company_edit', {'id' : company.id}) }}" class="btn btn-danger">Refuser</a><br> 
         {{ include('admin/company/_delete_form.html.twig') }}  #}
     </td>
        </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% endblock %}
{# Un utilisateur de type particulier/commercant s'inscrit sur l'application #}
{# La carte didentite jointe a l'inscription sera stocke sur le serveur #}
{# Un Email lui sera envoyer pour lui preciser que sa demande d'inscription #} 
{# vas etre examiner par un admin de la gouvernance en question #}
{# L'admin de la gouvernance vas valider ou non ce compte #}
{# en fonction de la carte d'identite #}


  {# Si un utilisateur de type particulier est validé, Validated passe a true #}
  {# La carte d'identité est supprimer du serveur #}
  {# un account lui sera créer, Il lui sera ainsi assigné dans la table particular #}
  {# Un mail sera envoye a l'utilisateur en lui precisant la validation  #}

  {# Si un utilisateur de type company est validé, validated passe a true #}
  {# La carte d'identité est supprimer du serveur #}
  {# un account sera assigné a la company dans la table company #}
  {# Un mail sera envoye a l'utilisateur en lui precisant la validation du compte #}

  {# Si un utilisateur de type de partiuclier est refuser #}
  {# La carte d'identité est supprimer du serveur #}
  {# Le user et le particular sera supprime de la bdd #}
  {# Un mail sera envoye a l'utilisateur en lui precisant le refus du compte #}

  {# Si un utilisateur de type de company est refuser #}
  {# La carte d'identité est supprimer du serveur #}
  {# Le user et le company ainsi que la table pivot (company_user) sera supprime de la bdd #}
  {# Un mail sera envoye a l'utilisateur en lui precisant le refus du compte #}